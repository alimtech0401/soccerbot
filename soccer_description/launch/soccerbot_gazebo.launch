<launch>
    <arg name="field" default="robocup" />

    <!-- We resume the logic in empty_world.launch, changing only the name of the world to be launched -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name"      value="$(find soccer_description)/worlds/$(arg field).world"/>
        <arg name="debug"           value="false" />
        <arg name="gui"             value="true" />
        <arg name="paused"          value="true"/>
        <arg name="use_sim_time"    value="true"/>
        <arg name="headless"        value="false"/>
        <arg name="verbose"         value="true" />
    </include>

    <include file="$(find soccer_description)/launch/soccerbot_rviz.launch" >
        <arg name="show_joint_state_publisher" value="false" />
    </include>

    <node name="spawn_soccerbot_model" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen"
    args="-urdf -model soccerbot -param robot_description -z 0.05"/>

    <!-- Controller -->
    <rosparam file="$(find soccer_description)/config/soccerbot_control.yaml" command="load"/>
    <node name="controller_spawner" pkg="controller_manager" type="spawner"
          output="screen"
          args="
            motor1
            motor2
            motor3
            motor4
            motor5
            motor6
            motor7
            motor8
            motor9
            motor10
            motor11
            motor12

            motor13
            motor14
            motor15
            motor16

            motor17
            motor18

            joint_state_controller
            --shutdown-timeout 2"/>

</launch>
